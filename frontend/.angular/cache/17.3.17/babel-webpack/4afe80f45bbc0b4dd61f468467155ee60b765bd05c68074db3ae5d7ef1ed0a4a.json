{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction FileUploadComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.acceptMessage, \" \");\n  }\n}\nexport let FileUploadComponent = /*#__PURE__*/(() => {\n  var _FileUploadComponent;\n  class FileUploadComponent {\n    constructor() {\n      this.filesSelected = new EventEmitter();\n      this.isDragging = false;\n      this.multiple = false;\n      this.accept = '';\n    }\n    get acceptMessage() {\n      if (!this.accept) return '';\n      return 'Định dạng được chấp nhận: ' + this.accept.split(',').join(', ');\n    }\n    onDragOver(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragging = true;\n    }\n    onDragLeave(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragging = false;\n    }\n    onDrop(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.isDragging = false;\n      const files = event.dataTransfer?.files;\n      if (files && files.length > 0) {\n        this.handleFiles(Array.from(files));\n      }\n    }\n    onFileSelected(event) {\n      const input = event.target;\n      if (input.files && input.files.length > 0) {\n        this.handleFiles(Array.from(input.files));\n      }\n    }\n    handleFiles(files) {\n      if (!this.multiple && files.length > 1) {\n        files = [files[0]];\n      }\n      this.filesSelected.emit(files);\n    }\n  }\n  _FileUploadComponent = FileUploadComponent;\n  _FileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n    return new (t || _FileUploadComponent)();\n  };\n  _FileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _FileUploadComponent,\n    selectors: [[\"app-file-upload\"]],\n    hostBindings: function FileUploadComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"dragover\", function FileUploadComponent_dragover_HostBindingHandler($event) {\n          return ctx.onDragOver($event);\n        })(\"dragleave\", function FileUploadComponent_dragleave_HostBindingHandler($event) {\n          return ctx.onDragLeave($event);\n        })(\"drop\", function FileUploadComponent_drop_HostBindingHandler($event) {\n          return ctx.onDrop($event);\n        });\n      }\n    },\n    inputs: {\n      multiple: \"multiple\",\n      accept: \"accept\",\n      maxFileSize: \"maxFileSize\",\n      maxTotalSize: \"maxTotalSize\"\n    },\n    outputs: {\n      filesSelected: \"filesSelected\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 11,\n    vars: 19,\n    consts: [[\"fileInput\", \"\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"w-full\", \"h-64\", \"border-2\", \"border-dashed\", \"rounded-lg\", \"cursor-pointer\", \"transition-colors\", \"duration-300\", \"ease-in-out\", 3, \"dragover\", \"dragleave\", \"drop\", \"click\"], [\"type\", \"file\", 1, \"hidden\", 3, \"change\", \"multiple\", \"accept\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"pt-5\", \"pb-6\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-10\", \"h-10\", \"mb-3\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"], [1, \"mb-2\", \"text-sm\"], [1, \"font-semibold\"], [\"class\", \"text-xs text-gray-500\", 4, \"ngIf\"], [1, \"text-xs\", \"text-gray-500\"]],\n    template: function FileUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 1);\n        i0.ɵɵlistener(\"dragover\", function FileUploadComponent_Template_div_dragover_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onDragOver($event));\n        })(\"dragleave\", function FileUploadComponent_Template_div_dragleave_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onDragLeave($event));\n        })(\"drop\", function FileUploadComponent_Template_div_drop_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onDrop($event));\n        })(\"click\", function FileUploadComponent_Template_div_click_0_listener() {\n          i0.ɵɵrestoreView(_r1);\n          const fileInput_r2 = i0.ɵɵreference(2);\n          return i0.ɵɵresetView(fileInput_r2.click());\n        });\n        i0.ɵɵelementStart(1, \"input\", 2, 0);\n        i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_1_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFileSelected($event));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(4, \"svg\", 4);\n        i0.ɵɵelement(5, \"path\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(6, \"p\", 6)(7, \"span\", 7);\n        i0.ɵɵtext(8, \"Nh\\u1EA5p \\u0111\\u1EC3 t\\u1EA3i l\\u00EAn\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9, \" ho\\u1EB7c k\\u00E9o v\\u00E0 th\\u1EA3 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, FileUploadComponent_p_10_Template, 2, 1, \"p\", 8);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"border-blue-500\", ctx.isDragging)(\"bg-blue-50\", ctx.isDragging)(\"border-gray-300\", !ctx.isDragging)(\"hover:border-blue-400\", !ctx.isDragging);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"multiple\", ctx.multiple)(\"accept\", ctx.accept);\n        i0.ɵɵadvance(3);\n        i0.ɵɵclassProp(\"text-blue-500\", ctx.isDragging)(\"text-gray-400\", !ctx.isDragging);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"text-blue-500\", ctx.isDragging)(\"text-gray-500\", !ctx.isDragging);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.accept);\n      }\n    },\n    dependencies: [CommonModule, i1.NgIf],\n    encapsulation: 2\n  });\n  return FileUploadComponent;\n})();","map":{"version":3,"names":["CommonModule","EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","acceptMessage","FileUploadComponent","_FileUploadComponent","constructor","filesSelected","isDragging","multiple","accept","split","join","onDragOver","event","preventDefault","stopPropagation","onDragLeave","onDrop","files","dataTransfer","length","handleFiles","Array","from","onFileSelected","input","target","emit","selectors","hostBindings","FileUploadComponent_HostBindings","rf","ctx","ɵɵlistener","FileUploadComponent_dragover_HostBindingHandler","$event","FileUploadComponent_dragleave_HostBindingHandler","FileUploadComponent_drop_HostBindingHandler","FileUploadComponent_Template_div_dragover_0_listener","ɵɵrestoreView","_r1","ɵɵresetView","FileUploadComponent_Template_div_dragleave_0_listener","FileUploadComponent_Template_div_drop_0_listener","FileUploadComponent_Template_div_click_0_listener","fileInput_r2","ɵɵreference","click","FileUploadComponent_Template_input_change_1_listener","ɵɵelement","ɵɵtemplate","FileUploadComponent_p_10_Template","ɵɵclassProp","ɵɵproperty","i1","NgIf","encapsulation"],"sources":["/Users/huy/Documents/internal-doc-ai/frontend/src/app/components/atoms/file-upload.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport { Component, EventEmitter, HostListener, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-file-upload',\n  template: `\n    <div\n      class=\"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-300 ease-in-out\"\n      [class.border-blue-500]=\"isDragging\"\n      [class.bg-blue-50]=\"isDragging\"\n      [class.border-gray-300]=\"!isDragging\"\n      [class.hover:border-blue-400]=\"!isDragging\"\n      (dragover)=\"onDragOver($event)\"\n      (dragleave)=\"onDragLeave($event)\"\n      (drop)=\"onDrop($event)\"\n      (click)=\"fileInput.click()\"\n    >\n      <input\n        #fileInput\n        type=\"file\"\n        class=\"hidden\"\n        (change)=\"onFileSelected($event)\"\n        [multiple]=\"multiple\"\n        [accept]=\"accept\"\n      />\n      <div class=\"flex flex-col items-center justify-center pt-5 pb-6\">\n        <svg\n          class=\"w-10 h-10 mb-3\"\n          [class.text-blue-500]=\"isDragging\"\n          [class.text-gray-400]=\"!isDragging\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n          />\n        </svg>\n        <p class=\"mb-2 text-sm\" [class.text-blue-500]=\"isDragging\" [class.text-gray-500]=\"!isDragging\">\n          <span class=\"font-semibold\">Nhấp để tải lên</span> hoặc kéo và thả\n        </p>\n        <p class=\"text-xs text-gray-500\" *ngIf=\"accept\">\n          {{ acceptMessage }}\n        </p>\n      </div>\n    </div>\n  `,\n  styles: [],\n  standalone: true,\n  imports: [\n    CommonModule\n  ]\n})\nexport class FileUploadComponent {\n  @Output() filesSelected = new EventEmitter<File[]>();\n  \n  isDragging = false;\n  \n  @Input() multiple = false;\n  @Input() accept = '';\n  @Input() maxFileSize?: number; // Kích thước tối đa cho mỗi file (bytes)\n  @Input() maxTotalSize?: number; // Tổng kích thước tối đa cho tất cả files (bytes)\n  \n  get acceptMessage(): string {\n    if (!this.accept) return '';\n    return 'Định dạng được chấp nhận: ' + this.accept.split(',').join(', ');\n  }\n\n  @HostListener('dragover', ['$event'])\n  onDragOver(event: DragEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isDragging = true;\n  }\n\n  @HostListener('dragleave', ['$event'])\n  onDragLeave(event: DragEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isDragging = false;\n  }\n\n  @HostListener('drop', ['$event'])\n  onDrop(event: DragEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isDragging = false;\n\n    const files = event.dataTransfer?.files;\n    if (files && files.length > 0) {\n      this.handleFiles(Array.from(files));\n    }\n  }\n\n  onFileSelected(event: Event) {\n    const input = event.target as HTMLInputElement;\n    if (input.files && input.files.length > 0) {\n      this.handleFiles(Array.from(input.files));\n    }\n  }\n\n  private handleFiles(files: File[]) {\n    if (!this.multiple && files.length > 1) {\n      files = [files[0]];\n    }\n    this.filesSelected.emit(files);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}